<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<title>TTA 아카데미 CSTS Guide</title>

	<link rel="stylesheet" href="reveal/dist/reveal.css">
	<link rel="stylesheet" href="reveal/dist/theme/white.css" id="theme">
	<link rel="stylesheet" href="reveal/css/custom/tta.css">

	<link rel="stylesheet" href="reveal/plugin/highlight/monokai.css">

	<style>
		/* Floating button (invisible by default) */
		#issue-button {
			position: fixed;
			top: 20px;
			right: 20px;
			background-color: rgb(18, 59, 241);
			color: white;
			padding: 10px 10px;
			border-radius: 5px;
			cursor: pointer;
			z-index: 1000;
			font-size: 12px;
		}
	</style>

</head>

<body>

	<div class="reveal">
		<!-- Floating button -->
		<div id="issue-button">수정요청</div>

		<div class="slides"><section data-markdown="csts/24-12-01-csts-00-contents.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/24-12-02-csts-01-chap01.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/24-12-04-csts-01-chap02.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/24-12-04-csts-01-chap03.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/24-12-04-csts-01-chap04.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/24-12-04-csts-01-chap05.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/24-12-04-csts-01-chap06.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/24-12-05-csts-01-chap07.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/24-12-05-csts-02-chap08.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/24-12-05-csts-02-chap09.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/24-12-05-csts-02-chap10.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/24-12-05-csts-03-chap11.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/24-12-05-csts-03-chap12.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/24-12-28-csts-04-appendix_fl.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/24-12-28-csts-05-appendix_al.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/24-12-31-csts-98-refs.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/24-12-31-csts-99-index.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/_24-12-04-csts-01-chap13.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/_24-12-04-csts-01-chap14.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/_24-12-04-csts-01-chap15.md" data-separator="\n---" data-separator-vertical="\n--"></section>
<section data-markdown="csts/_24-12-04-csts-01-chap16.md" data-separator="\n---" data-separator-vertical="\n--"></section>
</div>

		<script src="reveal/dist/reveal.js"></script>
		<script src="reveal/plugin/markdown/markdown.js"></script>
		<script src="reveal/plugin/highlight/highlight.js"></script>
		<script src="reveal/plugin/notes/notes.js"></script>
		<script src="reveal/plugin/math/math.js"></script>

		<script>

			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				//center: true,
				slideNumber: 'c/t',

				plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
				pdfSeparateFragments: false,
				//pdfMaxPagesPerSlide: 1,
				//pdfPageHeightOffset: 5,
			});

			Reveal.on('slidechanged', function(event) {
				// Get the markdown file for the newly activated slide
				getCurrentMarkdownFile();
			});

			// Function to get the current markdown file name
			function getCurrentMarkdownFile() {
				const currentSlide = Reveal.getCurrentSlide(); // Get the current slide
				const markdownFile = currentSlide.getAttribute('data-markdown'); // Get the data-markdown attribute

				if (markdownFile) {
					console.log('Current Markdown File:', markdownFile); // Log the markdown file name
					return markdownFile;
				} else {
					console.log('No markdown file associated with this slide.');
					return null; // Return null if no markdown file is associated
				}
			}
			
			// Example function to open GitHub Issue
			function openGitHubIssue(slideNumber) {
				currentSlide = Reveal.getCurrentSlide();
        
				// Get the value of the data-markdown attribute
				let markdownFile = currentSlide.getAttribute('data-markdown');

				const issueTitle = `[${markdownFile}] Notes for Slide ${slideNumber}`;
				//const issueBody = `Please add the notes for slide number ${slideNumber}.`;
				const slideContent = currentSlide.innerHTML;
				// If you want just the text content (without HTML tags):
				const slideTextContent = currentSlide.textContent || currentSlide.innerText;

				const issueBody = markdownFile+"\n"+slideTextContent;

				const url = `https://github.com/orghenry/csts/issues/new?title=${encodeURIComponent(issueTitle)}&body=${encodeURIComponent(issueBody)}`;
				window.open(url, '_blank');
			}

			// Event listener for "Create Issue for Notes" button
			document.querySelectorAll('#issue-button').forEach((button, index) => {
				button.addEventListener('click', () => {
					//slide = Reveal.getCurrentSlide();

					// Total number of slides
					total = Reveal.getTotalSlides();
					past = Reveal.getSlidePastCount();
					console.log(past+'/'+total)
					
					openGitHubIssue(past+1);
				});
			});			
		</script>

</body>

</html>